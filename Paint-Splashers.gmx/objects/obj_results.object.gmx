<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>blueblocks = 0;
redblocks = 0;
winning_msg = "";
extra_msg = "";

var i;
for (i = 0; i &lt; instance_number(obj_solid); i += 1)
   {
   var block = instance_find(obj_solid,i);
   
   if (block.color[c_aqua] &gt; block.color[c_red]) {
    blueblocks += 1;
   } else if (block.color[c_red] &gt; block.color[c_aqua]) {
    redblocks += 1;
   } else {
    //nothing
   }
   
   }
   
surf = -1;

if (blueblocks &gt; redblocks) {
 winning_msg = choose("Blue player Wins!", "Blue is dominating!", "BLUe wins!");
 if (global.playerscore[colors.blue] &lt; 3) {
 global.playerscore[colors.blue] += 1;
 }
} else if (redblocks &gt; blueblocks) {
 winning_msg = choose("Red player Wins!", "Red is dominating!", "RED wins!");
 if (global.playerscore[colors.blue] &lt; 3) {
 global.playerscore[colors.red] += 1;
 }
} else {
 winning_msg = "It's a Tie!";
}

if (global.playerscore[colors.blue] = 3) {
 extra_msg = "Blue wins the game!";
} else if (global.playerscore[colors.red] = 3) {
 extra_msg = "Red wins the game!";
} else {
 extra_msg = "";
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (!surface_exists(surf)) {
 surf = surface_create(room_width, room_height);
 surface_set_target(surf);
 draw_clear_alpha(c_white, 0);
 surface_reset_target();
} else {
 surface_set_target(surf);
 draw_clear_alpha(c_black, 0.5);
 surface_reset_target();
 draw_surface(surf, 0, 0);
}

draw_set_font(font_results);
draw_set_halign(fa_center);
draw_set_valign(fa_center);
draw_text_colour(room_width / 3, room_height / 2, string(redblocks),c_red,c_red,c_red,c_red,1);
draw_text_colour(room_width - (room_width / 3), room_height / 2, string(blueblocks),c_aqua,c_aqua,c_aqua,c_aqua,1);
draw_set_font(font_results2);
draw_text(room_width / 2, room_height / 3, string(winning_msg));
if (global.playerscore[colors.blue] = 3) {
draw_text_colour(room_width / 2, room_height - (room_height / 4), string(extra_msg), c_aqua,c_aqua,c_aqua,c_aqua,1);
} else if (global.playerscore[colors.red] = 3) {
 draw_text_colour(room_width / 2, room_height - (room_height / 4), string(extra_msg), c_red, c_red, c_red, c_red,1);
}
draw_sprite_ext(spr_coins,global.playerscore[colors.red],room_width / 3, room_height - (room_height / 3),1,1,0,colors.red,1);
draw_sprite_ext(spr_coins,global.playerscore[colors.blue],room_width - (room_width / 3), room_height - (room_height / 3),1,1,0,colors.blue,1);
draw_set_font(font_ammo);
draw_text_colour(room_width / 2, room_height - (room_height / 5), "&lt;Space&gt; Continue", c_white, c_white, c_white, c_white,1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (extra_msg != "") {
 room_goto(room_menu);
 
}

if (instance_exists(obj_game)) {
  with (obj_game) {
   if (surface_exists(surf)) {
    surface_set_target(surf);
    draw_clear_alpha(c_white,0);
    surface_reset_target();
   }
  }
}




if (extra_msg = "") {
var newroom = choose(room_alley,room_ware,room_lobby,room_crates,room_peek,room_halls,room_center,room_madness);

while (newroom = room) {
 newroom = choose(room_alley,room_ware,room_lobby,room_crates,room_peek,room_halls,room_center,room_madness);
}

room_goto(newroom);
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
